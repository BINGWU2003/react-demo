# é¢åŒ…å±‘ç»„ä»¶ä¸è·¯ç”±è”åŠ¨è®¾è®¡æ–‡æ¡£

## ğŸ“– æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†ä»‹ç»äº†Reacté¡¹ç›®ä¸­é¢åŒ…å±‘å¯¼èˆªç»„ä»¶çš„è®¾è®¡æ€è·¯ã€å®ç°æ–¹æ¡ˆï¼Œä»¥åŠä¸ä¾§è¾¹æ èœå•çš„åŒå‘è”åŠ¨æœºåˆ¶ã€‚é€šè¿‡è¿™å¥—æ–¹æ¡ˆï¼Œå®ç°äº†ç”¨æˆ·å¯¼èˆªçš„ä¸€è‡´æ€§å’Œç›´è§‚æ€§ã€‚

## ğŸ¯ è®¾è®¡ç›®æ ‡

### æ ¸å¿ƒéœ€æ±‚
1. **è‡ªåŠ¨åŒ–å¯¼èˆª**ï¼šæ ¹æ®å½“å‰è·¯ç”±è‡ªåŠ¨ç”Ÿæˆé¢åŒ…å±‘è·¯å¾„
2. **è§†è§‰ä¼˜åŒ–**ï¼šåœ¨æ·±è‰²èƒŒæ™¯ä¸‹æä¾›è‰¯å¥½çš„å¯è¯»æ€§
3. **åŒå‘è”åŠ¨**ï¼šé¢åŒ…å±‘ä¸ä¾§è¾¹æ èœå•çŠ¶æ€åŒæ­¥
4. **ç”¨æˆ·ä½“éªŒ**ï¼šæä¾›ç›´è§‚çš„å¯¼èˆªåé¦ˆå’Œäº¤äº’æ•ˆæœ

### æŠ€æœ¯è¦æ±‚
- åŸºäºReact Routerçš„è·¯ç”±ç³»ç»Ÿ
- æ”¯æŒå¤šçº§è·¯ç”±å¯¼èˆª
- å“åº”å¼è®¾è®¡å’Œç°ä»£UIäº¤äº’
- ç±»å‹å®‰å…¨çš„TypeScriptå®ç°

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### æ•´ä½“æ¶æ„å›¾

```mermaid
graph TD
    A[ç”¨æˆ·æ“ä½œ] --> B{å¯¼èˆªæ–¹å¼}
    B -->|ç‚¹å‡»é¢åŒ…å±‘| C[é¢åŒ…å±‘ç»„ä»¶]
    B -->|ç‚¹å‡»ä¾§è¾¹æ | D[ä¾§è¾¹æ èœå•]
    
    C --> E[React Router]
    D --> E
    
    E --> F[è·¯ç”±å˜åŒ–]
    F --> G[useLocation Hook]
    
    G --> H[é¢åŒ…å±‘çŠ¶æ€æ›´æ–°]
    G --> I[èœå•çŠ¶æ€æ›´æ–°]
    
    H --> J[é‡æ–°æ¸²æŸ“é¢åŒ…å±‘]
    I --> K[é‡æ–°æ¸²æŸ“èœå•]
    
    J --> L[ç”¨æˆ·ç•Œé¢æ›´æ–°]
    K --> L
```

### ç»„ä»¶ç»“æ„

```
src/components/
â”œâ”€â”€ Layout/
â”‚   â”œâ”€â”€ index.tsx              # å¸ƒå±€ç»„ä»¶ï¼ˆåŒ…å«èœå•è”åŠ¨é€»è¾‘ï¼‰
â”‚   â””â”€â”€ index.module.scss      # å¸ƒå±€æ ·å¼
â”œâ”€â”€ Breadcrumb/
â”‚   â”œâ”€â”€ index.tsx              # é¢åŒ…å±‘ç»„ä»¶
â”‚   â”œâ”€â”€ index.module.scss      # é¢åŒ…å±‘æ ·å¼
â”‚   â””â”€â”€ index.ts               # å¯¼å‡ºæ–‡ä»¶
```

## ğŸ é¢åŒ…å±‘ç»„ä»¶è®¾è®¡

### æ ¸å¿ƒè®¾è®¡æ€è·¯

#### 1. è·¯ç”±æ˜ å°„ç­–ç•¥

é‡‡ç”¨é…ç½®åŒ–çš„è·¯ç”±æ˜ å°„æ–¹æ¡ˆï¼Œå°†URLè·¯å¾„æ˜ å°„ä¸ºç”¨æˆ·å‹å¥½çš„æ ‡é¢˜å’Œå›¾æ ‡ï¼š

```typescript
// è·¯ç”±é…ç½®æ˜ å°„
const routeConfig: Record<string, { title: string; icon?: React.ReactNode }> = {
  '/': { title: 'é¦–é¡µ', icon: <HomeOutlined /> },
  '/about': { title: 'å…³äºæˆ‘ä»¬', icon: <TeamOutlined /> },
  '/contact': { title: 'è”ç³»æˆ‘ä»¬', icon: <PhoneOutlined /> },
  '/api-example': { title: 'APIç¤ºä¾‹', icon: <ApiOutlined /> },
  '/user-list': { title: 'ç”¨æˆ·åˆ—è¡¨', icon: <UserOutlined /> },
  '/user': { title: 'ç”¨æˆ·ä¸­å¿ƒ', icon: <UserOutlined /> },
  '/user/profile': { title: 'ä¸ªäººèµ„æ–™', icon: <ProfileOutlined /> },
  '/user/settings': { title: 'è®¾ç½®', icon: <SettingOutlined /> }
};
```

**ä¼˜åŠ¿**ï¼š
- é›†ä¸­åŒ–ç®¡ç†ï¼šæ‰€æœ‰è·¯ç”±ä¿¡æ¯ç»Ÿä¸€é…ç½®
- æ˜“äºç»´æŠ¤ï¼šæ–°å¢è·¯ç”±åªéœ€æ·»åŠ é…ç½®é¡¹
- ç±»å‹å®‰å…¨ï¼šTypeScriptæä¾›ç±»å‹æ£€æŸ¥
- å›¾æ ‡æ”¯æŒï¼šæ¯ä¸ªè·¯ç”±å¯é…ç½®å¯¹åº”å›¾æ ‡

#### 2. è·¯å¾„è§£æç®—æ³•

```typescript
const Breadcrumb = () => {
  const location = useLocation();
  const pathSnippets = location.pathname.split('/').filter(i => i);
  
  // åŠ¨æ€ç”Ÿæˆé¢åŒ…å±‘é¡¹
  const breadcrumbItems = [];
  
  // é¦–é¡µå¤„ç†é€»è¾‘
  if (pathSnippets.length > 0) {
    // æ·»åŠ é¦–é¡µé“¾æ¥
    breadcrumbItems.push(homeItem);
  } else {
    // å½“å‰å°±æ˜¯é¦–é¡µï¼Œæ˜¾ç¤ºä¸ºéé“¾æ¥çŠ¶æ€
    breadcrumbItems.push(currentHomeItem);
  }
  
  // é€’å½’æ„å»ºè·¯å¾„
  pathSnippets.forEach((snippet, index) => {
    const path = `/${pathSnippets.slice(0, index + 1).join('/')}`;
    const routeInfo = routeConfig[path];
    
    if (routeInfo) {
      const isLast = index === pathSnippets.length - 1;
      breadcrumbItems.push(createBreadcrumbItem(path, routeInfo, isLast));
    }
  });
};
```

**æ ¸å¿ƒé€»è¾‘**ï¼š
1. **è·¯å¾„åˆ†å‰²**ï¼šå°†URLæŒ‰'/'åˆ†å‰²ä¸ºè·¯å¾„ç‰‡æ®µ
2. **é€’å½’æ„å»º**ï¼šä»æ ¹è·¯å¾„å¼€å§‹é€çº§æ„å»ºå®Œæ•´è·¯å¾„
3. **çŠ¶æ€åŒºåˆ†**ï¼šåŒºåˆ†ä¸­é—´è·¯å¾„ï¼ˆå¯ç‚¹å‡»ï¼‰å’Œå½“å‰é¡µé¢ï¼ˆä¸å¯ç‚¹å‡»ï¼‰
4. **é…ç½®æŸ¥æ‰¾**ï¼šæ ¹æ®è·¯å¾„æŸ¥æ‰¾å¯¹åº”çš„æ ‡é¢˜å’Œå›¾æ ‡

#### 3. æ™ºèƒ½é¦–é¡µå¤„ç†

```typescript
// é¦–é¡µæ™ºèƒ½æ˜¾ç¤ºé€»è¾‘
if (pathSnippets.length > 0) {
  // ä¸åœ¨é¦–é¡µ - æ˜¾ç¤ºå¯ç‚¹å‡»çš„é¦–é¡µé“¾æ¥
  breadcrumbItems.push({
    key: 'home',
    title: (
      <Link to='/' className={styles.breadcrumbLink}>
        <HomeOutlined className={styles.icon} />
        <span>é¦–é¡µ</span>
      </Link>
    )
  });
} else {
  // å½“å‰åœ¨é¦–é¡µ - æ˜¾ç¤ºéé“¾æ¥çŠ¶æ€çš„é¦–é¡µ
  breadcrumbItems.push({
    key: 'home',
    title: (
      <span className={styles.currentPage}>
        <HomeOutlined className={styles.icon} />
        <span>é¦–é¡µ</span>
      </span>
    )
  });
}
```

**è®¾è®¡ä¼˜åŠ¿**ï¼š
- é¿å…å†—ä½™ï¼šé¦–é¡µä¸æ˜¾ç¤ºåˆ°è‡ªå·±çš„é“¾æ¥
- çŠ¶æ€æ˜ç¡®ï¼šæ¸…æ¥šè¡¨ç¤ºå½“å‰ä½ç½®
- ä¸€è‡´æ€§ï¼šä¿æŒå¯¼èˆªé€»è¾‘çš„ç»Ÿä¸€æ€§

### è§†è§‰è®¾è®¡ä¼˜åŒ–

#### 1. æ·±è‰²èƒŒæ™¯é€‚é…

é’ˆå¯¹æ·±è‰²HeaderèƒŒæ™¯ï¼Œä¸“é—¨ä¼˜åŒ–äº†æ–‡å­—å¯è§åº¦ï¼š

```scss
.breadcrumbLink {
  color: rgba(255, 255, 255, 0.9) !important;  // é«˜äº®åº¦ç™½è‰²
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);   // æ–‡å­—é˜´å½±å¢å¼ºå¯¹æ¯”
  font-weight: 500;                             // ä¸­ç­‰ç²—ç»†
  
  &:hover {
    color: #fff !important;                     // æ‚¬æµ®æ—¶å®Œå…¨ç™½è‰²
    background-color: rgba(255, 255, 255, 0.1); // åŠé€æ˜èƒŒæ™¯
    transform: translateY(-1px);                // å¾®å¦™çš„ä¸Šç§»æ•ˆæœ
  }
}

.currentPage {
  color: #fff !important;                       // å½“å‰é¡µé¢çº¯ç™½è‰²
  font-weight: 600;                             // åŠ ç²—çªå‡º
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.6);  // æ›´å¼ºçš„é˜´å½±
}
```

#### 2. äº¤äº’åé¦ˆè®¾è®¡

```scss
.breadcrumbLink {
  transition: all 0.2s ease;                   // å¹³æ»‘è¿‡æ¸¡
  padding: 2px 4px;                            // å¢åŠ ç‚¹å‡»åŒºåŸŸ
  border-radius: 4px;                          // åœ†è§’èƒŒæ™¯
  
  &:hover {
    background-color: rgba(255, 255, 255, 0.1); // æ‚¬æµ®èƒŒæ™¯
    transform: translateY(-1px);                // ä¸Šæµ®æ•ˆæœ
  }
}
```

## ğŸ”— èœå•è·¯ç”±è”åŠ¨æœºåˆ¶

### è®¾è®¡æ€è·¯

å®ç°é¢åŒ…å±‘å¯¼èˆªä¸ä¾§è¾¹æ èœå•çš„åŒå‘åŒæ­¥ï¼Œç¡®ä¿ç”¨æˆ·åœ¨ä»»ä½•åœ°æ–¹è¿›è¡Œå¯¼èˆªæ“ä½œæ—¶ï¼Œä¸¤ä¸ªç»„ä»¶çš„çŠ¶æ€éƒ½èƒ½ä¿æŒä¸€è‡´ã€‚

### æ ¸å¿ƒå®ç°

#### 1. è·¯ç”±çŠ¶æ€ç›‘å¬

```typescript
const Layout = () => {
  const location = useLocation();
  const [openKeys, setOpenKeys] = useState<string[]>([]);
  
  // ç›‘å¬è·¯ç”±å˜åŒ–ï¼Œè‡ªåŠ¨æ›´æ–°èœå•çŠ¶æ€
  useEffect(() => {
    const pathname = location.pathname;
    if (pathname.startsWith('/user/')) {
      setOpenKeys(['user']); // è‡ªåŠ¨å±•å¼€ç”¨æˆ·ä¸­å¿ƒå­èœå•
    } else {
      setOpenKeys([]);       // æ”¶èµ·æ‰€æœ‰å­èœå•
    }
  }, [location.pathname]);
};
```

#### 2. åŠ¨æ€é€‰ä¸­çŠ¶æ€è®¡ç®—

```typescript
// æ ¹æ®å½“å‰è·¯å¾„è®¡ç®—èœå•é€‰ä¸­çŠ¶æ€
const getSelectedKeys = () => {
  const pathname = location.pathname;
  
  // å¤„ç†äºŒçº§èœå•ï¼ˆç”¨æˆ·ä¸­å¿ƒï¼‰
  if (pathname.startsWith('/user/')) {
    return [pathname.split('/')[2]]; // è¿”å› 'profile' æˆ– 'settings'
  }
  
  // å¤„ç†ä¸€çº§èœå•
  const keyMap: Record<string, string> = {
    '/': 'home',
    '/about': 'about', 
    '/contact': 'contact',
    '/api-example': 'api-example',
    '/user-list': 'user-list'
  };
  
  return [keyMap[pathname] || ''];
};
```

#### 3. èœå•é…ç½®ä¸çŠ¶æ€ç»‘å®š

```typescript
<Menu
  theme='dark'
  mode='inline'
  items={menuItems}
  selectedKeys={selectedKeys}        // ç»‘å®šé€‰ä¸­çŠ¶æ€
  openKeys={openKeys}                // ç»‘å®šå±•å¼€çŠ¶æ€
  onOpenChange={(keys) => {          // å¤„ç†æ‰‹åŠ¨å±•å¼€/æ”¶èµ·
    const latestOpenKey = keys.find(key => !openKeys.includes(key));
    setOpenKeys(latestOpenKey ? [latestOpenKey] : []);
  }}
/>
```

### è”åŠ¨æµç¨‹å›¾

```mermaid
sequenceDiagram
    participant U as ç”¨æˆ·
    participant B as é¢åŒ…å±‘ç»„ä»¶
    participant R as React Router
    participant L as Layoutç»„ä»¶
    participant M as ä¾§è¾¹æ èœå•

    U->>B: ç‚¹å‡»é¢åŒ…å±‘é“¾æ¥
    B->>R: è§¦å‘è·¯ç”±è·³è½¬
    R->>R: URLå˜åŒ–
    R->>L: location.pathnameæ›´æ–°
    L->>L: useEffectç›‘å¬åˆ°å˜åŒ–
    L->>L: é‡æ–°è®¡ç®—selectedKeyså’ŒopenKeys
    L->>M: æ›´æ–°èœå•çŠ¶æ€
    M->>U: èœå•é«˜äº®çŠ¶æ€æ›´æ–°

    Note over U,M: åå‘æµç¨‹ï¼ˆç‚¹å‡»èœå•ï¼‰
    U->>M: ç‚¹å‡»èœå•é¡¹
    M->>R: è§¦å‘è·¯ç”±è·³è½¬
    R->>B: locationå˜åŒ–
    B->>B: é‡æ–°ç”Ÿæˆé¢åŒ…å±‘
    B->>U: é¢åŒ…å±‘è·¯å¾„æ›´æ–°
```

## ğŸ› ï¸ å®ç°ç»†èŠ‚

### é¢åŒ…å±‘ç»„ä»¶æ ¸å¿ƒä»£ç 

```typescript
import { Breadcrumb as AntdBreadcrumb } from 'antd';
import { Link, useLocation } from 'react-router-dom';
import {
  HomeOutlined,
  TeamOutlined,
  PhoneOutlined,
  ApiOutlined,
  UserOutlined,
  SettingOutlined,
  ProfileOutlined
} from '@ant-design/icons';
import styles from './index.module.scss';

const Breadcrumb = () => {
  const location = useLocation();
  const pathSnippets = location.pathname.split('/').filter(i => i);

  // è·¯ç”±é…ç½®æ˜ å°„
  const routeConfig: Record<string, { title: string; icon?: React.ReactNode }> = {
    '/': { title: 'é¦–é¡µ', icon: <HomeOutlined /> },
    '/about': { title: 'å…³äºæˆ‘ä»¬', icon: <TeamOutlined /> },
    '/contact': { title: 'è”ç³»æˆ‘ä»¬', icon: <PhoneOutlined /> },
    '/api-example': { title: 'APIç¤ºä¾‹', icon: <ApiOutlined /> },
    '/user-list': { title: 'ç”¨æˆ·åˆ—è¡¨', icon: <UserOutlined /> },
    '/user': { title: 'ç”¨æˆ·ä¸­å¿ƒ', icon: <UserOutlined /> },
    '/user/profile': { title: 'ä¸ªäººèµ„æ–™', icon: <ProfileOutlined /> },
    '/user/settings': { title: 'è®¾ç½®', icon: <SettingOutlined /> }
  };

  const breadcrumbItems = [];

  // é¦–é¡µå¤„ç†
  if (pathSnippets.length > 0) {
    breadcrumbItems.push({
      key: 'home',
      title: (
        <Link to='/' className={styles.breadcrumbLink}>
          <HomeOutlined className={styles.icon} />
          <span>é¦–é¡µ</span>
        </Link>
      )
    });
  } else {
    breadcrumbItems.push({
      key: 'home',
      title: (
        <span className={styles.currentPage}>
          <HomeOutlined className={styles.icon} />
          <span>é¦–é¡µ</span>
        </span>
      )
    });
  }

  // æ„å»ºè·¯å¾„é¡¹
  pathSnippets.forEach((snippet, index) => {
    const path = `/${pathSnippets.slice(0, index + 1).join('/')}`;
    const routeInfo = routeConfig[path];
    
    if (routeInfo) {
      const isLast = index === pathSnippets.length - 1;
      
      breadcrumbItems.push({
        key: path,
        title: isLast ? (
          <span className={styles.currentPage}>
            {routeInfo.icon && <span className={styles.icon}>{routeInfo.icon}</span>}
            <span>{routeInfo.title}</span>
          </span>
        ) : (
          <Link to={path} className={styles.breadcrumbLink}>
            {routeInfo.icon && <span className={styles.icon}>{routeInfo.icon}</span>}
            <span>{routeInfo.title}</span>
          </Link>
        )
      });
    }
  });

  return (
    <div className={styles.breadcrumb}>
      <AntdBreadcrumb items={breadcrumbItems} />
    </div>
  );
};

export default Breadcrumb;
```

### å¸ƒå±€ç»„ä»¶è”åŠ¨é€»è¾‘

```typescript
import { useState, useEffect } from 'react';
import { Outlet, Link, useLocation } from 'react-router-dom';
import { Layout as AntdLayout, Menu } from 'antd';
import Breadcrumb from '../Breadcrumb';

const Layout = () => {
  const location = useLocation();
  const [openKeys, setOpenKeys] = useState<string[]>([]);

  // è®¡ç®—èœå•é€‰ä¸­çŠ¶æ€
  const getSelectedKeys = () => {
    const pathname = location.pathname;
    
    if (pathname.startsWith('/user/')) {
      return [pathname.split('/')[2]];
    }
    
    const keyMap: Record<string, string> = {
      '/': 'home',
      '/about': 'about', 
      '/contact': 'contact',
      '/api-example': 'api-example',
      '/user-list': 'user-list'
    };
    
    return [keyMap[pathname] || ''];
  };

  const selectedKeys = getSelectedKeys();

  // è‡ªåŠ¨å±•å¼€å­èœå•
  useEffect(() => {
    const pathname = location.pathname;
    if (pathname.startsWith('/user/')) {
      setOpenKeys(['user']);
    } else {
      setOpenKeys([]);
    }
  }, [location.pathname]);

  // èœå•é…ç½®
  const menuItems = [
    { key: 'home', label: <Link to='/'>é¦–é¡µ</Link> },
    { key: 'about', label: <Link to='/about'>å…³äºæˆ‘ä»¬</Link> },
    { key: 'contact', label: <Link to='/contact'>è”ç³»æˆ‘ä»¬</Link> },
    { key: 'api-example', label: <Link to='/api-example'>APIç¤ºä¾‹</Link> },
    { key: 'user-list', label: <Link to='/user-list'>ç”¨æˆ·åˆ—è¡¨</Link> },
    {
      key: 'user',
      label: 'ç”¨æˆ·ä¸­å¿ƒ',
      children: [
        { key: 'profile', label: <Link to='/user/profile'>ä¸ªäººèµ„æ–™</Link> },
        { key: 'settings', label: <Link to='/user/settings'>è®¾ç½®</Link> }
      ]
    }
  ];

  return (
    <AntdLayout>
      <Sider>
        <Menu
          theme='dark'
          mode='inline'
          items={menuItems}
          selectedKeys={selectedKeys}
          openKeys={openKeys}
          onOpenChange={(keys) => {
            const latestOpenKey = keys.find(key => !openKeys.includes(key));
            setOpenKeys(latestOpenKey ? [latestOpenKey] : []);
          }}
        />
      </Sider>
      <AntdLayout>
        <Header>
          <Breadcrumb />
        </Header>
        <Content>
          <Outlet />
        </Content>
      </AntdLayout>
    </AntdLayout>
  );
};
```

## ğŸ¨ æ ·å¼è®¾è®¡ç­–ç•¥

### æ·±è‰²ä¸»é¢˜é€‚é…

```scss
.breadcrumb {
  :global(.ant-breadcrumb) {
    margin: 0;
    
    ol {
      align-items: center;
      margin: 0;
    }
    
    .ant-breadcrumb-separator {
      color: rgba(255, 255, 255, 0.8);
      font-weight: bold;
      font-size: 14px;
    }
  }
}

.breadcrumbLink {
  color: rgba(255, 255, 255, 0.9) !important;
  text-decoration: none !important;
  display: inline-flex;
  align-items: center;
  transition: all 0.2s ease;
  padding: 2px 4px;
  border-radius: 4px;
  font-weight: 500;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
  
  &:hover {
    color: #fff !important;
    background-color: rgba(255, 255, 255, 0.1);
    transform: translateY(-1px);
  }
}

.currentPage {
  color: #fff !important;
  display: inline-flex;
  align-items: center;
  font-weight: 600;
  text-shadow: 0 1px 3px rgba(0, 0, 0, 0.6);
  padding: 2px 4px;
}

.icon {
  margin-right: 6px;
  font-size: 14px;
  display: inline-flex;
  align-items: center;
}
```

### è®¾è®¡åŸåˆ™

1. **å¯¹æ¯”åº¦ä¼˜åŒ–**ï¼šä½¿ç”¨é«˜å¯¹æ¯”åº¦çš„ç™½è‰²æ–‡å­—å’Œæ–‡å­—é˜´å½±
2. **äº¤äº’åé¦ˆ**ï¼šæ‚¬æµ®æ—¶æä¾›è§†è§‰å’ŒåŠ¨ç”»åé¦ˆ
3. **çŠ¶æ€åŒºåˆ†**ï¼šé€šè¿‡å­—é‡å’Œé¢œè‰²åŒºåˆ†å¯ç‚¹å‡»å’Œå½“å‰çŠ¶æ€
4. **ä¸€è‡´æ€§**ï¼šä¸æ•´ä½“è®¾è®¡é£æ ¼ä¿æŒä¸€è‡´

## ğŸ“Š æ€§èƒ½è€ƒé‡

### ä¼˜åŒ–ç­–ç•¥

1. **é…ç½®ç¼“å­˜**ï¼šè·¯ç”±é…ç½®å¯¹è±¡åœ¨ç»„ä»¶å¤–éƒ¨å®šä¹‰ï¼Œé¿å…é‡å¤åˆ›å»º
2. **è®¡ç®—ä¼˜åŒ–**ï¼šä½¿ç”¨useMemoç¼“å­˜å¤æ‚è®¡ç®—ç»“æœ
3. **äº‹ä»¶ä¼˜åŒ–**ï¼šåˆç†ä½¿ç”¨useCallbackä¼˜åŒ–äº‹ä»¶å¤„ç†å‡½æ•°

```typescript
import { useMemo, useCallback } from 'react';

const Breadcrumb = () => {
  const location = useLocation();
  
  // ç¼“å­˜è·¯å¾„åˆ†æç»“æœ
  const pathSnippets = useMemo(() => 
    location.pathname.split('/').filter(i => i),
    [location.pathname]
  );
  
  // ç¼“å­˜é¢åŒ…å±‘é¡¹è®¡ç®—
  const breadcrumbItems = useMemo(() => {
    // è®¡ç®—é€»è¾‘...
  }, [pathSnippets]);
  
  return <AntdBreadcrumb items={breadcrumbItems} />;
};
```

### å†…å­˜ç®¡ç†

- é¿å…åœ¨æ¸²æŸ“å‡½æ•°ä¸­åˆ›å»ºå¯¹è±¡
- åˆç†ä½¿ç”¨Reactçš„ä¾èµ–æ•°ç»„
- åŠæ—¶æ¸…ç†äº‹ä»¶ç›‘å¬å™¨

## ğŸ”§ æ‰©å±•æ€§è®¾è®¡

### 1. åŠ¨æ€è·¯ç”±æ”¯æŒ

```typescript
// æ”¯æŒåŠ¨æ€è·¯ç”±å‚æ•°
const routeConfig = {
  '/user/:id': { 
    title: (params) => `ç”¨æˆ·-${params.id}`,
    icon: <UserOutlined />
  },
  '/article/:slug': {
    title: (params) => `æ–‡ç« -${params.slug}`,
    icon: <ArticleOutlined />
  }
};

// å‚æ•°è§£æ
const parseRouteParams = (path: string, template: string) => {
  // å®ç°å‚æ•°æå–é€»è¾‘
};
```

### 2. å›½é™…åŒ–æ”¯æŒ

```typescript
// å¤šè¯­è¨€é…ç½®
const routeConfig = {
  '/': { 
    title: t('navigation.home'),
    icon: <HomeOutlined />
  },
  '/about': { 
    title: t('navigation.about'),
    icon: <TeamOutlined />
  }
};
```

### 3. æƒé™æ§åˆ¶

```typescript
// åŸºäºæƒé™çš„è·¯ç”±æ˜¾ç¤º
const routeConfig = {
  '/admin': {
    title: 'ç®¡ç†åå°',
    icon: <AdminOutlined />,
    permission: 'admin'
  }
};

// æƒé™æ£€æŸ¥
const hasPermission = (permission: string) => {
  // æƒé™éªŒè¯é€»è¾‘
};
```

## ğŸ“ æœ€ä½³å®è·µ

### 1. é…ç½®ç®¡ç†

**æ¨èåšæ³•**ï¼š
- å°†è·¯ç”±é…ç½®æå–åˆ°ç‹¬ç«‹æ–‡ä»¶
- ä½¿ç”¨TypeScriptå®šä¹‰ä¸¥æ ¼çš„ç±»å‹
- æ”¯æŒåµŒå¥—è·¯ç”±å’ŒåŠ¨æ€è·¯ç”±

**é…ç½®æ–‡ä»¶ç¤ºä¾‹**ï¼š
```typescript
// src/config/routes.ts
export interface RouteConfig {
  title: string;
  icon?: React.ReactNode;
  permission?: string;
  children?: Record<string, RouteConfig>;
}

export const routeConfig: Record<string, RouteConfig> = {
  // é…ç½®å†…å®¹
};
```

### 2. ç»„ä»¶è®¾è®¡

**åŸåˆ™**ï¼š
- å•ä¸€èŒè´£ï¼šé¢åŒ…å±‘ç»„ä»¶åªè´Ÿè´£å¯¼èˆªæ˜¾ç¤º
- å¯å¤ç”¨æ€§ï¼šæ”¯æŒä¸åŒé¡¹ç›®çš„è·¯ç”±ç»“æ„
- å¯æµ‹è¯•æ€§ï¼šé€»è¾‘æ¸…æ™°ï¼Œæ˜“äºå•å…ƒæµ‹è¯•

### 3. æ€§èƒ½ä¼˜åŒ–

**å»ºè®®**ï¼š
- ä½¿ç”¨React.memoåŒ…è£…ç»„ä»¶
- åˆç†ä½¿ç”¨useMemoå’ŒuseCallback
- é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“

## ğŸš€ æœªæ¥è§„åˆ’

### 1. åŠŸèƒ½å¢å¼º
- [ ] æ”¯æŒè·¯ç”±åˆ«åé…ç½®
- [ ] æ·»åŠ è·¯ç”±åŠ¨ç”»æ•ˆæœ
- [ ] æ”¯æŒè‡ªå®šä¹‰åˆ†éš”ç¬¦
- [ ] å¢åŠ æœç´¢å»ºè®®åŠŸèƒ½

### 2. ä½“éªŒä¼˜åŒ–
- [ ] æ·»åŠ é”®ç›˜å¯¼èˆªæ”¯æŒ
- [ ] ä¼˜åŒ–ç§»åŠ¨ç«¯æ˜¾ç¤º
- [ ] å¢åŠ ä¸»é¢˜åˆ‡æ¢æ”¯æŒ
- [ ] æ·»åŠ æ— éšœç¢è®¿é—®ç‰¹æ€§

### 3. æŠ€æœ¯å‡çº§
- [ ] æ”¯æŒReact 18çš„å¹¶å‘ç‰¹æ€§
- [ ] é›†æˆReact Queryè¿›è¡ŒçŠ¶æ€ç®¡ç†
- [ ] æ·»åŠ æ€§èƒ½ç›‘æ§å’Œåˆ†æ

## ğŸ“š æ€»ç»“

é€šè¿‡ç²¾å¿ƒè®¾è®¡çš„é¢åŒ…å±‘ç»„ä»¶å’Œèœå•è”åŠ¨æœºåˆ¶ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š

1. **ç”¨æˆ·ä½“éªŒæå‡**ï¼šç›´è§‚çš„å¯¼èˆªè·¯å¾„å’Œå³æ—¶çš„çŠ¶æ€åé¦ˆ
2. **å¼€å‘æ•ˆç‡æé«˜**ï¼šé…ç½®åŒ–çš„è·¯ç”±ç®¡ç†å’Œè‡ªåŠ¨åŒ–çš„çŠ¶æ€åŒæ­¥
3. **ä»£ç è´¨é‡ä¿è¯**ï¼šç±»å‹å®‰å…¨ã€ç»„ä»¶åŒ–å’Œå¯ç»´æŠ¤çš„ä»£ç ç»“æ„
4. **æ‰©å±•æ€§æ”¯æŒ**ï¼šçµæ´»çš„é…ç½®ç³»ç»Ÿå’Œè‰¯å¥½çš„æ¶æ„è®¾è®¡

è¿™å¥—è§£å†³æ–¹æ¡ˆä¸ä»…è§£å†³äº†å½“å‰çš„å¯¼èˆªéœ€æ±‚ï¼Œä¹Ÿä¸ºæœªæ¥çš„åŠŸèƒ½æ‰©å±•å’Œä¼˜åŒ–æä¾›äº†åšå®çš„åŸºç¡€ã€‚

---

*æœ¬æ–‡æ¡£åŸºäºReact 18 + TypeScript + Ant DesignæŠ€æœ¯æ ˆï¼Œé€‚ç”¨äºä¸­å¤§å‹Webåº”ç”¨çš„å¯¼èˆªç³»ç»Ÿè®¾è®¡* 